# Loop Video Player 🎬

一个轻量级的悬浮视频循环播放器，支持无限循环播放视频，窗口可悬浮置顶、自由拖动和调整大小。

![Platform](https://img.shields.io/badge/platform-Windows-blue)
![Qt](https://img.shields.io/badge/Qt-6.x-green)
![C++](https://img.shields.io/badge/C++-23-orange)

## ✨ 功能特性

- 🔄 **无限循环播放** - 视频自动循环播放，无需手动重播
- 📌 **窗口置顶** - 窗口始终显示在其他窗口之上
- 🖱️ **自由拖动** - 点击窗口任意位置拖动移动
- 📐 **边缘调整大小** - 拖动窗口边缘可调整大小
- 🔆 **透明度调节** - 支持多级透明度调节
- 🎛️ **完整控制** - 播放、暂停、停止、音量控制
- 📊 **进度条** - 可视化播放进度，支持拖动跳转
- 🖥️ **双击全屏** - 双击窗口切换全屏模式
- 🎯 **右键菜单** - 丰富的右键快捷操作

## 🛠️ 构建要求

### 依赖项
- **CMake** >= 3.20
- **Qt6** (需要以下模块)
  - Qt6::Core
  - Qt6::Gui
  - Qt6::Widgets
  - Qt6::Multimedia
  - Qt6::MultimediaWidgets
- **C++23** 兼容编译器
  - MSVC 2022 (Windows)
  - GCC 13+ (Linux)
  - Clang 16+ (macOS)

### Windows 构建

```bash
# 1. 创建构建目录
mkdir build
cd build

# 2. 配置 CMake（请根据你的 Qt 安装路径调整）
cmake .. -G "Visual Studio 17 2022" -DCMAKE_PREFIX_PATH="C:/Qt/6.x.x/msvc2022_64"

# 3. 构建
cmake --build . --config Release

# 4. 运行
./Release/LoopVideoPlayer.exe
```

### 使用 Qt Creator

1. 打开 Qt Creator
2. 选择 `文件` -> `打开文件或项目`
3. 选择 `CMakeLists.txt`
4. 配置 Kit（选择 Qt6）
5. 点击构建运行

## 📖 使用方法

### 启动方式

**方式一：直接启动**
```bash
LoopVideoPlayer.exe
```
启动后会显示一个空白的悬浮窗口，右键选择"打开视频文件"。

**方式二：命令行指定文件**
```bash
LoopVideoPlayer.exe "C:\Videos\my_video.mp4"
```
直接打开并播放指定视频。

**方式三：拖放文件**
将视频文件拖放到程序图标上启动播放。

### 操作指南

| 操作 | 说明 |
|------|------|
| **左键拖动** | 移动窗口位置 |
| **边缘拖动** | 调整窗口大小 |
| **双击窗口** | 切换全屏/窗口模式 |
| **右键点击** | 打开控制菜单 |
| **鼠标悬停** | 显示控制栏 |

### 右键菜单功能

- 📂 **打开视频文件** - 选择要播放的视频
- ▶ **播放** - 开始播放
- ⏸ **暂停** - 暂停播放
- ⏹ **停止** - 停止播放
- 🔆 **透明度** - 调整窗口透明度 (50% ~ 100%)
- 📐 **窗口大小** - 预设窗口尺寸
- 📌 **始终置顶** - 切换窗口置顶状态
- ❌ **退出** - 关闭程序

### 支持的视频格式

- MP4 (推荐)
- AVI
- MKV
- MOV
- WMV
- FLV
- WebM

> 注意：实际支持的格式取决于系统安装的解码器。Windows 上建议安装 [K-Lite Codec Pack](https://codecguide.com/download_kl.htm) 以获得最佳兼容性。

## 📁 项目结构

```
loop/
├── CMakeLists.txt          # CMake 构建配置
├── README.md               # 项目说明文档
├── src/
│   ├── main.cpp            # 程序入口
│   ├── FloatingVideoPlayer.h    # 播放器窗口头文件
│   └── FloatingVideoPlayer.cpp  # 播放器窗口实现
└── resources/
    └── resources.qrc       # Qt 资源文件
```

## 🎨 界面预览

程序启动后会在屏幕右下角显示一个深色主题的悬浮窗口：

- **窗口样式**: 深色背景 (#1a1a2e) + 圆角边框
- **强调色**: 红色 (#e94560)
- **控制栏**: 鼠标悬停时显示在底部

## 🔧 配置说明

### 默认设置

| 设置项 | 默认值 |
|--------|--------|
| 窗口大小 | 400 × 300 |
| 窗口位置 | 屏幕右下角 |
| 透明度 | 95% |
| 音量 | 50% |
| 循环模式 | 无限循环 |

## 🐛 常见问题

### Q: 视频无法播放？
A: 请检查：
1. 视频文件路径是否正确
2. 视频格式是否支持
3. 是否安装了必要的解码器

### Q: 没有声音？
A: 请检查：
1. 系统音量设置
2. 播放器音量滑块
3. 音频设备是否正常

### Q: 窗口消失了？
A: 窗口可能移动到了屏幕外，重新启动程序即可。

## 📝 开发计划

- [ ] 添加播放列表支持
- [ ] 添加视频滤镜效果
- [ ] 添加播放速度调节
- [ ] 添加快捷键支持
- [ ] 添加系统托盘图标
- [ ] 支持网络视频流

## 📄 许可证

本项目采用 MIT 许可证。

---

**Made with ❤️ using Qt6 and C++23**

